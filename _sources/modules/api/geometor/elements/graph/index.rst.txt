geometor.elements.graph
=======================

.. py:module:: geometor.elements.graph

.. autoapi-nested-parse::

   Graph manipulation utilities (RST version).

   This module is responsible for crawling the Euclid source documentation
   (sourced from the Heath edition in the sibling `geometor-euclid` project)
   to build a NetworkX dependency graph and extract metadata for G-Index generation.



Attributes
----------

.. autoapisummary::

   geometor.elements.graph.ROMAN_NUMERALS
   geometor.elements.graph.ROMAN_TO_INT


Functions
---------

.. autoapisummary::

   geometor.elements.graph.parse_rst_file
   geometor.elements.graph.build_graph


Module Contents
---------------

.. py:data:: ROMAN_NUMERALS

.. py:data:: ROMAN_TO_INT

.. py:function:: parse_rst_file(file_path: pathlib.Path) -> dict

   Parse an RST file to extract metadata and content.

   Identifies metadata fields at the beginning of the file, strips standard
   Euclid header blocks and picture directives, and returns the structured
   components.

   :param file_path: Path to the RST file.
   :type file_path: Path

   :returns: A dictionary containing 'metadata', 'image', and 'content'.
   :rtype: dict


.. py:function:: build_graph(source_dir: pathlib.Path | None = None) -> tuple[networkx.DiGraph, list[dict]]

   Build a NetworkX dependency graph from the RST source files.

   Scans the specified source directory (defaulting to the Euclid sibling
   project) for Euclid books and entries. Builds a directed graph representing
   the logical dependency flow.

   :param source_dir: Directory containing the Euclid RST books.
                      Defaults to '../euclid/docsrc/heath'.
   :type source_dir: Path, optional

   :returns: The dependency graph and a list of book data.
   :rtype: tuple[nx.DiGraph, list[dict]]


